1717381768
ac1e01bd81d25a49725bc38f4603e687-phpdoc%3Afcfdfefc7c1fad87021d90b9dc2a7234-45e466e1879308c4f23fb369c5522932
s:10316:"TzozMzoicGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlIjoxNDp7czo0MzoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBkb2NCbG9jayI7TjtzOjM5OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAGhhc2giO3M6MzI6IjQ1ZTQ2NmUxODc5MzA4YzRmMjNmYjM2OWM1NTIyOTMyIjtzOjM5OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAG5hbWUiO3M6MzE6IlJlc2V0UGFzc3dvcmRDb250cm9sbGVyLnRwbC5waHAiO3M6Mzk6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAcGF0aCI7czo5NjoidmVuZG9yL3N5bWZvbnkvbWFrZXItYnVuZGxlL3NyYy9SZXNvdXJjZXMvc2tlbGV0b24vcmVzZXRQYXNzd29yZC9SZXNldFBhc3N3b3JkQ29udHJvbGxlci50cGwucGhwIjtzOjQxOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAHNvdXJjZSI7czo2NzQxOiI8Pz0gIjw/cGhwXG4iID8+CgpuYW1lc3BhY2UgPD89ICRuYW1lc3BhY2UgPz47Cgo8Pz0gJHVzZV9zdGF0ZW1lbnRzOyA/PgoKI1tSb3V0ZSgnL3Jlc2V0LXBhc3N3b3JkJyldCmNsYXNzIDw/PSAkY2xhc3NfbmFtZSA/PiBleHRlbmRzIEFic3RyYWN0Q29udHJvbGxlcgp7CiAgICB1c2UgUmVzZXRQYXNzd29yZENvbnRyb2xsZXJUcmFpdDsKCiAgICBwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoCiAgICAgICAgcHJpdmF0ZSBSZXNldFBhc3N3b3JkSGVscGVySW50ZXJmYWNlICRyZXNldFBhc3N3b3JkSGVscGVyLAogICAgICAgIHByaXZhdGUgRW50aXR5TWFuYWdlckludGVyZmFjZSAkZW50aXR5TWFuYWdlcgogICAgKSB7CiAgICB9CgogICAgLyoqCiAgICAgKiBEaXNwbGF5ICYgcHJvY2VzcyBmb3JtIHRvIHJlcXVlc3QgYSBwYXNzd29yZCByZXNldC4KICAgICAqLwogICAgI1tSb3V0ZSgnJywgbmFtZTogJ2FwcF9mb3Jnb3RfcGFzc3dvcmRfcmVxdWVzdCcpXQogICAgcHVibGljIGZ1bmN0aW9uIHJlcXVlc3QoUmVxdWVzdCAkcmVxdWVzdCwgTWFpbGVySW50ZXJmYWNlICRtYWlsZXI8P3BocCBpZiAoJHRyYW5zbGF0b3JfYXZhaWxhYmxlKTogPz4sIFRyYW5zbGF0b3JJbnRlcmZhY2UgJHRyYW5zbGF0b3I8P3BocCBlbmRpZiA/Pik6IFJlc3BvbnNlCiAgICB7CiAgICAgICAgJGZvcm0gPSAkdGhpcy0+Y3JlYXRlRm9ybSg8Pz0gJHJlcXVlc3RfZm9ybV90eXBlX2NsYXNzX25hbWUgPz46OmNsYXNzKTsKICAgICAgICAkZm9ybS0+aGFuZGxlUmVxdWVzdCgkcmVxdWVzdCk7CgogICAgICAgIGlmICgkZm9ybS0+aXNTdWJtaXR0ZWQoKSAmJiAkZm9ybS0+aXNWYWxpZCgpKSB7CiAgICAgICAgICAgIHJldHVybiAkdGhpcy0+cHJvY2Vzc1NlbmRpbmdQYXNzd29yZFJlc2V0RW1haWwoCiAgICAgICAgICAgICAgICAkZm9ybS0+Z2V0KCc8Pz0gJGVtYWlsX2ZpZWxkID8+JyktPmdldERhdGEoKSwKICAgICAgICAgICAgICAgICRtYWlsZXI8P3BocCBpZiAoJHRyYW5zbGF0b3JfYXZhaWxhYmxlKTogPz4sCiAgICAgICAgICAgICAgICAkdHJhbnNsYXRvcjw/cGhwIGVuZGlmID8+PD89ICJcbiIgPz4KICAgICAgICAgICAgKTsKICAgICAgICB9CgogICAgICAgIHJldHVybiAkdGhpcy0+cmVuZGVyKCdyZXNldF9wYXNzd29yZC9yZXF1ZXN0Lmh0bWwudHdpZycsIFsKICAgICAgICAgICAgJ3JlcXVlc3RGb3JtJyA9PiAkZm9ybS0+Y3JlYXRlVmlldygpLAogICAgICAgIF0pOwogICAgfQoKICAgIC8qKgogICAgICogQ29uZmlybWF0aW9uIHBhZ2UgYWZ0ZXIgYSB1c2VyIGhhcyByZXF1ZXN0ZWQgYSBwYXNzd29yZCByZXNldC4KICAgICAqLwogICAgI1tSb3V0ZSgnL2NoZWNrLWVtYWlsJywgbmFtZTogJ2FwcF9jaGVja19lbWFpbCcpXQogICAgcHVibGljIGZ1bmN0aW9uIGNoZWNrRW1haWwoKTogUmVzcG9uc2UKICAgIHsKICAgICAgICAvLyBHZW5lcmF0ZSBhIGZha2UgdG9rZW4gaWYgdGhlIHVzZXIgZG9lcyBub3QgZXhpc3Qgb3Igc29tZW9uZSBoaXQgdGhpcyBwYWdlIGRpcmVjdGx5LgogICAgICAgIC8vIFRoaXMgcHJldmVudHMgZXhwb3Npbmcgd2hldGhlciBvciBub3QgYSB1c2VyIHdhcyBmb3VuZCB3aXRoIHRoZSBnaXZlbiBlbWFpbCBhZGRyZXNzIG9yIG5vdAogICAgICAgIGlmIChudWxsID09PSAoJHJlc2V0VG9rZW4gPSAkdGhpcy0+Z2V0VG9rZW5PYmplY3RGcm9tU2Vzc2lvbigpKSkgewogICAgICAgICAgICAkcmVzZXRUb2tlbiA9ICR0aGlzLT5yZXNldFBhc3N3b3JkSGVscGVyLT5nZW5lcmF0ZUZha2VSZXNldFRva2VuKCk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gJHRoaXMtPnJlbmRlcigncmVzZXRfcGFzc3dvcmQvY2hlY2tfZW1haWwuaHRtbC50d2lnJywgWwogICAgICAgICAgICAncmVzZXRUb2tlbicgPT4gJHJlc2V0VG9rZW4sCiAgICAgICAgXSk7CiAgICB9CgogICAgLyoqCiAgICAgKiBWYWxpZGF0ZXMgYW5kIHByb2Nlc3MgdGhlIHJlc2V0IFVSTCB0aGF0IHRoZSB1c2VyIGNsaWNrZWQgaW4gdGhlaXIgZW1haWwuCiAgICAgKi8KICAgICNbUm91dGUoJy9yZXNldC97dG9rZW59JywgbmFtZTogJ2FwcF9yZXNldF9wYXNzd29yZCcpXQogICAgcHVibGljIGZ1bmN0aW9uIHJlc2V0KFJlcXVlc3QgJHJlcXVlc3QsIFVzZXJQYXNzd29yZEhhc2hlckludGVyZmFjZSAkcGFzc3dvcmRIYXNoZXI8P3BocCBpZiAoJHRyYW5zbGF0b3JfYXZhaWxhYmxlKTogPz4sIFRyYW5zbGF0b3JJbnRlcmZhY2UgJHRyYW5zbGF0b3I8P3BocCBlbmRpZiA/Piwgc3RyaW5nICR0b2tlbiA9IG51bGwpOiBSZXNwb25zZQogICAgewogICAgICAgIGlmICgkdG9rZW4pIHsKICAgICAgICAgICAgLy8gV2Ugc3RvcmUgdGhlIHRva2VuIGluIHNlc3Npb24gYW5kIHJlbW92ZSBpdCBmcm9tIHRoZSBVUkwsIHRvIGF2b2lkIHRoZSBVUkwgYmVpbmcKICAgICAgICAgICAgLy8gbG9hZGVkIGluIGEgYnJvd3NlciBhbmQgcG90ZW50aWFsbHkgbGVha2luZyB0aGUgdG9rZW4gdG8gM3JkIHBhcnR5IEphdmFTY3JpcHQuCiAgICAgICAgICAgICR0aGlzLT5zdG9yZVRva2VuSW5TZXNzaW9uKCR0b2tlbik7CgogICAgICAgICAgICByZXR1cm4gJHRoaXMtPnJlZGlyZWN0VG9Sb3V0ZSgnYXBwX3Jlc2V0X3Bhc3N3b3JkJyk7CiAgICAgICAgfQoKICAgICAgICAkdG9rZW4gPSAkdGhpcy0+Z2V0VG9rZW5Gcm9tU2Vzc2lvbigpOwogICAgICAgIGlmIChudWxsID09PSAkdG9rZW4pIHsKICAgICAgICAgICAgdGhyb3cgJHRoaXMtPmNyZWF0ZU5vdEZvdW5kRXhjZXB0aW9uKCdObyByZXNldCBwYXNzd29yZCB0b2tlbiBmb3VuZCBpbiB0aGUgVVJMIG9yIGluIHRoZSBzZXNzaW9uLicpOwogICAgICAgIH0KCiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgJHVzZXIgPSAkdGhpcy0+cmVzZXRQYXNzd29yZEhlbHBlci0+dmFsaWRhdGVUb2tlbkFuZEZldGNoVXNlcigkdG9rZW4pOwogICAgICAgIH0gY2F0Y2ggKFJlc2V0UGFzc3dvcmRFeGNlcHRpb25JbnRlcmZhY2UgJGUpIHsKICAgICAgICAgICAgJHRoaXMtPmFkZEZsYXNoKCdyZXNldF9wYXNzd29yZF9lcnJvcicsIHNwcmludGYoCiAgICAgICAgICAgICAgICAnJXMgLSAlcycsCiAgICAgICAgICAgICAgICA8P3BocCBpZiAoJHRyYW5zbGF0b3JfYXZhaWxhYmxlKTogPz4kdHJhbnNsYXRvci0+dHJhbnMoPD89ICRwcm9ibGVtX3ZhbGlkYXRlX21lc3NhZ2Vfb3JfY29uc3RhbnQgPz4sIFtdLCAnUmVzZXRQYXNzd29yZEJ1bmRsZScpPD9waHAgZWxzZTogPz48Pz0gJHByb2JsZW1fdmFsaWRhdGVfbWVzc2FnZV9vcl9jb25zdGFudCA/Pjw/cGhwIGVuZGlmID8+LAogICAgICAgICAgICAgICAgPD9waHAgaWYgKCR0cmFuc2xhdG9yX2F2YWlsYWJsZSk6ID8+JHRyYW5zbGF0b3ItPnRyYW5zKCRlLT5nZXRSZWFzb24oKSwgW10sICdSZXNldFBhc3N3b3JkQnVuZGxlJyk8P3BocCBlbHNlOiA/PiRlLT5nZXRSZWFzb24oKTw/cGhwIGVuZGlmID8+PD89ICJcbiIgPz4KICAgICAgICAgICAgKSk7CgogICAgICAgICAgICByZXR1cm4gJHRoaXMtPnJlZGlyZWN0VG9Sb3V0ZSgnYXBwX2ZvcmdvdF9wYXNzd29yZF9yZXF1ZXN0Jyk7CiAgICAgICAgfQoKICAgICAgICAvLyBUaGUgdG9rZW4gaXMgdmFsaWQ7IGFsbG93IHRoZSB1c2VyIHRvIGNoYW5nZSB0aGVpciBwYXNzd29yZC4KICAgICAgICAkZm9ybSA9ICR0aGlzLT5jcmVhdGVGb3JtKDw/PSAkcmVzZXRfZm9ybV90eXBlX2NsYXNzX25hbWUgPz46OmNsYXNzKTsKICAgICAgICAkZm9ybS0+aGFuZGxlUmVxdWVzdCgkcmVxdWVzdCk7CgogICAgICAgIGlmICgkZm9ybS0+aXNTdWJtaXR0ZWQoKSAmJiAkZm9ybS0+aXNWYWxpZCgpKSB7CiAgICAgICAgICAgIC8vIEEgcGFzc3dvcmQgcmVzZXQgdG9rZW4gc2hvdWxkIGJlIHVzZWQgb25seSBvbmNlLCByZW1vdmUgaXQuCiAgICAgICAgICAgICR0aGlzLT5yZXNldFBhc3N3b3JkSGVscGVyLT5yZW1vdmVSZXNldFJlcXVlc3QoJHRva2VuKTsKCiAgICAgICAgICAgIC8vIEVuY29kZShoYXNoKSB0aGUgcGxhaW4gcGFzc3dvcmQsIGFuZCBzZXQgaXQuCiAgICAgICAgICAgICRlbmNvZGVkUGFzc3dvcmQgPSAkcGFzc3dvcmRIYXNoZXItPmhhc2hQYXNzd29yZCgKICAgICAgICAgICAgICAgICR1c2VyLAogICAgICAgICAgICAgICAgJGZvcm0tPmdldCgncGxhaW5QYXNzd29yZCcpLT5nZXREYXRhKCkKICAgICAgICAgICAgKTsKCiAgICAgICAgICAgICR1c2VyLT48Pz0gJHBhc3N3b3JkX3NldHRlciA/PigkZW5jb2RlZFBhc3N3b3JkKTsKICAgICAgICAgICAgJHRoaXMtPmVudGl0eU1hbmFnZXItPmZsdXNoKCk7CgogICAgICAgICAgICAvLyBUaGUgc2Vzc2lvbiBpcyBjbGVhbmVkIHVwIGFmdGVyIHRoZSBwYXNzd29yZCBoYXMgYmVlbiBjaGFuZ2VkLgogICAgICAgICAgICAkdGhpcy0+Y2xlYW5TZXNzaW9uQWZ0ZXJSZXNldCgpOwoKICAgICAgICAgICAgcmV0dXJuICR0aGlzLT5yZWRpcmVjdFRvUm91dGUoJzw/PSAkc3VjY2Vzc19yZWRpcmVjdF9yb3V0ZSA/PicpOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuICR0aGlzLT5yZW5kZXIoJ3Jlc2V0X3Bhc3N3b3JkL3Jlc2V0Lmh0bWwudHdpZycsIFsKICAgICAgICAgICAgJ3Jlc2V0Rm9ybScgPT4gJGZvcm0tPmNyZWF0ZVZpZXcoKSwKICAgICAgICBdKTsKICAgIH0KCiAgICBwcml2YXRlIGZ1bmN0aW9uIHByb2Nlc3NTZW5kaW5nUGFzc3dvcmRSZXNldEVtYWlsKHN0cmluZyAkZW1haWxGb3JtRGF0YSwgTWFpbGVySW50ZXJmYWNlICRtYWlsZXI8P3BocCBpZiAoJHRyYW5zbGF0b3JfYXZhaWxhYmxlKTogPz4sIFRyYW5zbGF0b3JJbnRlcmZhY2UgJHRyYW5zbGF0b3I8P3BocCBlbmRpZiA/Pik6IFJlZGlyZWN0UmVzcG9uc2UKICAgIHsKICAgICAgICAkdXNlciA9ICR0aGlzLT5lbnRpdHlNYW5hZ2VyLT5nZXRSZXBvc2l0b3J5KDw/PSAkdXNlcl9jbGFzc19uYW1lID8+OjpjbGFzcyktPmZpbmRPbmVCeShbCiAgICAgICAgICAgICc8Pz0gJGVtYWlsX2ZpZWxkID8+JyA9PiAkZW1haWxGb3JtRGF0YSwKICAgICAgICBdKTsKCiAgICAgICAgLy8gRG8gbm90IHJldmVhbCB3aGV0aGVyIGEgdXNlciBhY2NvdW50IHdhcyBmb3VuZCBvciBub3QuCiAgICAgICAgaWYgKCEkdXNlcikgewogICAgICAgICAgICByZXR1cm4gJHRoaXMtPnJlZGlyZWN0VG9Sb3V0ZSgnYXBwX2NoZWNrX2VtYWlsJyk7CiAgICAgICAgfQoKICAgICAgICB0cnkgewogICAgICAgICAgICAkcmVzZXRUb2tlbiA9ICR0aGlzLT5yZXNldFBhc3N3b3JkSGVscGVyLT5nZW5lcmF0ZVJlc2V0VG9rZW4oJHVzZXIpOwogICAgICAgIH0gY2F0Y2ggKFJlc2V0UGFzc3dvcmRFeGNlcHRpb25JbnRlcmZhY2UgJGUpIHsKICAgICAgICAgICAgLy8gSWYgeW91IHdhbnQgdG8gdGVsbCB0aGUgdXNlciB3aHkgYSByZXNldCBlbWFpbCB3YXMgbm90IHNlbnQsIHVuY29tbWVudAogICAgICAgICAgICAvLyB0aGUgbGluZXMgYmVsb3cgYW5kIGNoYW5nZSB0aGUgcmVkaXJlY3QgdG8gJ2FwcF9mb3Jnb3RfcGFzc3dvcmRfcmVxdWVzdCcuCiAgICAgICAgICAgIC8vIENhdXRpb246IFRoaXMgbWF5IHJldmVhbCBpZiBhIHVzZXIgaXMgcmVnaXN0ZXJlZCBvciBub3QuCiAgICAgICAgICAgIC8vCiAgICAgICAgICAgIC8vICR0aGlzLT5hZGRGbGFzaCgncmVzZXRfcGFzc3dvcmRfZXJyb3InLCBzcHJpbnRmKAogICAgICAgICAgICAvLyAgICAgJyVzIC0gJXMnLAogICAgICAgICAgICAvLyAgICAgPD9waHAgaWYgKCR0cmFuc2xhdG9yX2F2YWlsYWJsZSk6ID8+JHRyYW5zbGF0b3ItPnRyYW5zKDw/PSAkcHJvYmxlbV9oYW5kbGVfbWVzc2FnZV9vcl9jb25zdGFudCA/PiwgW10sICdSZXNldFBhc3N3b3JkQnVuZGxlJyk8P3BocCBlbHNlOiA/Pjw/PSAkcHJvYmxlbV9oYW5kbGVfbWVzc2FnZV9vcl9jb25zdGFudCA/Pjw/cGhwIGVuZGlmID8+LAogICAgICAgICAgICAvLyAgICAgPD9waHAgaWYgKCR0cmFuc2xhdG9yX2F2YWlsYWJsZSk6ID8+JHRyYW5zbGF0b3ItPnRyYW5zKCRlLT5nZXRSZWFzb24oKSwgW10sICdSZXNldFBhc3N3b3JkQnVuZGxlJyk8P3BocCBlbHNlOiA/PiRlLT5nZXRSZWFzb24oKTw/cGhwIGVuZGlmID8+PD89ICJcbiIgPz4KICAgICAgICAgICAgLy8gKSk7CgogICAgICAgICAgICByZXR1cm4gJHRoaXMtPnJlZGlyZWN0VG9Sb3V0ZSgnYXBwX2NoZWNrX2VtYWlsJyk7CiAgICAgICAgfQoKICAgICAgICAkZW1haWwgPSAobmV3IFRlbXBsYXRlZEVtYWlsKCkpCiAgICAgICAgICAgIC0+ZnJvbShuZXcgQWRkcmVzcygnPD89ICRmcm9tX2VtYWlsID8+JywgJzw/PSAkZnJvbV9lbWFpbF9uYW1lID8+JykpCiAgICAgICAgICAgIC0+dG8oJHVzZXItPjw/PSAkZW1haWxfZ2V0dGVyID8+KCkpCiAgICAgICAgICAgIC0+c3ViamVjdCgnWW91ciBwYXNzd29yZCByZXNldCByZXF1ZXN0JykKICAgICAgICAgICAgLT5odG1sVGVtcGxhdGUoJ3Jlc2V0X3Bhc3N3b3JkL2VtYWlsLmh0bWwudHdpZycpCiAgICAgICAgICAgIC0+Y29udGV4dChbCiAgICAgICAgICAgICAgICAncmVzZXRUb2tlbicgPT4gJHJlc2V0VG9rZW4sCiAgICAgICAgICAgIF0pCiAgICAgICAgOwoKICAgICAgICAkbWFpbGVyLT5zZW5kKCRlbWFpbCk7CgogICAgICAgIC8vIFN0b3JlIHRoZSB0b2tlbiBvYmplY3QgaW4gc2Vzc2lvbiBmb3IgcmV0cmlldmFsIGluIGNoZWNrLWVtYWlsIHJvdXRlLgogICAgICAgICR0aGlzLT5zZXRUb2tlbk9iamVjdEluU2Vzc2lvbigkcmVzZXRUb2tlbik7CgogICAgICAgIHJldHVybiAkdGhpcy0+cmVkaXJlY3RUb1JvdXRlKCdhcHBfY2hlY2tfZW1haWwnKTsKICAgIH0KfQoiO3M6NDU6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAbmFtZXNwYWNlcyI7YTowOnt9czo0MzoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBpbmNsdWRlcyI7YTowOnt9czo0NDoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBmdW5jdGlvbnMiO2E6MDp7fXM6NDQ6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAY29uc3RhbnRzIjthOjA6e31zOjQyOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAGNsYXNzZXMiO2E6MDp7fXM6NDU6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAaW50ZXJmYWNlcyI7YTowOnt9czo0MToiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQB0cmFpdHMiO2E6MDp7fXM6NDA6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAZW51bXMiO2E6MDp7fXM6NDM6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAbWV0YWRhdGEiO2E6MDp7fX0=";